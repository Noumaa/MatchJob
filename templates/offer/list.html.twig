{% extends 'base.html.twig' %}

{% block title %}Offres{% endblock %}

{% block body %}
	<style>
		.example-wrapper {
			margin: 1em auto;
			max-width: 800px;
			width: 95%;
			font: 18px / 1.5 sans-serif;
		}
		.example-wrapper code {
			background: #F5F5F5;
			padding: 2px 6px;
		}
	</style>
    {# {% if isBusiness %}
        
    {% endif %} #}

	<div
		class="container d-flex flex-row flex-wrap justify-content-center">


		<!-- Jobs Start -->
		<div class="container-xxl py-5">
			<div class="container">
			{% if app.user %}
				{% if "ROLE_BUSINESS" in app.user.roles %}
					<div class="mt-2 ml-2">
						<a class="btn btn-primary py-3 px-5" href={{path('app_offer_create')}}>Déposer une offre</a>
					</div>
				{% endif %}
			{% endif %}
				<h1 class="text-center mb-5 wow fadeInUp" data-wow-delay="0.1s">Les offres</h1>
				<div class="tab-class text-center wow fadeInUp" data-wow-delay="0.3s">
					<ul class="nav nav-pills d-inline-flex justify-content-center border-bottom mb-5">
					{% for oneCategory in Categories %}
					<div class="row mx-4">
						<div class="card mx-5">
							<div class="row g-0">
								<div class="col-md-4">
									<img src="{{ asset("assets/images/categories/" ~ oneCategory.imageName) }}" class="img-fluid rounded-start" alt="...">
								</div>
								<div class="col-md-8">
									<div class="card-body">
										<h5 class="card-title"><a href="{{path('app_offer_filter',{id:oneCategory.id})}}">{{oneCategory.label}}</a></h5>
									</div>
								</div>
							</div>
						</div>
					</div>
						
					{% endfor %}
					</ul>
					<div class="tab-content">
						<div id="tab-1" class="tab-pane fade show p-0 active">
							{% for oneOffer in Offers %}
								<div class="job-item p-4 mb-4">

									<div class="row g-4">
										<div class="col-sm-12 col-md-8 d-flex align-items-center">
											<a href="{{path('app_profile',{id:oneOffer.user.id})}}"><img class="flex-shrink-0 img-fluid border rounded" src="{{ asset("assets/images/pp/" ~ oneOffer.user.profilePicture) }}" alt="" style="width: 80px; height: 80px;"></a>
											<div class="text-start ps-4">
												<h5 class="mb-3">{{oneOffer.label}} • {{ oneOffer.user.name }}</h5>
												{# <span class="text-truncate me-3">
													<i class="fa fa-map-marker-alt text-primary me-2"></i>New York, USA
                                                </span> #}
												{# <span class="text-truncate me-3">
													<i class="far fa-clock text-primary me-2"></i>Full Time
                                                </span> #}
												<span class="text-truncate me-0">
													<i class="far fa-money-bill-alt text-primary me-2"></i>{{oneOffer.moneyPerHour}} €/h
                                                </span>
											</div>
										</div>
										<div class="col-sm-12 col-md-4 d-flex flex-column align-items-start align-items-md-end justify-content-center">
											<div class="d-flex mb-3">
												<a class="btn btn-light btn-square me-3" href="">
													<i class="bi bi-heart text-black"></i>
												</a>
												<a class="btn btn-primary" href="{{path('app_offer_detail',{id:oneOffer.id})}}">Voir l'offre</a>
											</div>
											<small class="text-truncate">
												<i class="far fa-calendar-alt text-primary me-2"></i>Déposé le : {{oneOffer.createdAt | date("m/d/Y")}}</small>
										</div>
									</div>
								</div>
							{% endfor  %}
							<a class="btn btn-primary py-3 px-5" href="">Voir plus d'offres</a>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- Jobs End -->

	</div>
{% endblock %}

